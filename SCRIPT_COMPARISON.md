# 🔍 EPIC 스크립트 비교 분석

## 📊 스크립트 개요

| 항목 | `run_target_board_v3.sh` | `run_dual_core_optimized.sh` |
|------|-------------------------|------------------------------|
| **목적** | 기본 EPIC 실행 | 듀얼코어 최적화 실행 |
| **설정 파일** | `target_board_garage.yaml` | `target_board_garage_dual_core.yaml` |
| **최적화 수준** | 기본 | 고급 시스템 최적화 |
| **안정성** | 높음 | 중간 (공격적 최적화) |
| **성능** | 기본 | 최고 |

## 🎯 언제 어떤 스크립트를 사용하나?

### 1. **`run_target_board_v3.sh` 사용 시기**
- ✅ 처음 시스템 테스트할 때
- ✅ 안정성이 중요한 상황
- ✅ 디버깅 중일 때
- ✅ 성능보다 안정성 우선

### 2. **`run_dual_core_optimized.sh` 사용 시기**
- 🚀 최대 성능이 필요할 때
- 🚀 배포/운영 환경에서
- 🚀 실시간 응답이 중요할 때
- 🚀 CPU 리소스를 최대한 활용하고 싶을 때

## 🔧 주요 차이점

### 1. **시스템 최적화**

| 기능 | `run_target_board_v3.sh` | `run_dual_core_optimized.sh` |
|------|-------------------------|------------------------------|
| **CPU 거버너** | 기본값 | Performance 모드 |
| **CPU 어피니티** | 없음 | 코어별 프로세스 할당 |
| **실시간 스케줄링** | 없음 | 우선순위 설정 |
| **메모리 최적화** | 없음 | overcommit, swappiness 조정 |
| **시스템 서비스** | 기본 | 불필요한 서비스 중지 |

### 2. **프로세스 관리**

| 프로세스 | `run_target_board_v3.sh` | `run_dual_core_optimized.sh` |
|----------|-------------------------|------------------------------|
| **exploration_node** | 기본 실행 | Core 0 할당 + 높은 우선순위 |
| **fast_planner_node** | 기본 실행 | Core 1 할당 + 높은 우선순위 |
| **traj_server** | 기본 실행 | Core 0 할당 + 중간 우선순위 |
| **모니터링** | 없음 | 실시간 성능 모니터링 |

### 3. **설정 파일 차이**

| 파라미터 | 기본값 | 듀얼코어 최적화 | 개선 효과 |
|----------|--------|----------------|-----------|
| **IntegralIntervs** | 32 | 12 | 63% 연산 감소 |
| **allocate_num** | 5000 | 4000 | 20% 메모리 감소 |
| **local_tsp_size** | 8 | 6 | 25% TSP 문제 축소 |
| **max_update_region_num** | 50000 | 30000 | 40% 업데이트 감소 |

## 🚀 권장 사용 순서

### 1단계: 기본 테스트
```bash
# 먼저 기본 스크립트로 정상 동작 확인
./run_target_board_v3.sh garage true
```

### 2단계: 성능 최적화
```bash
# 정상 동작 확인 후 최적화 버전 사용
./run_dual_core_optimized.sh garage true
```

### 3단계: 성능 모니터링
```bash
# 별도 터미널에서 성능 모니터링
./monitor_performance.sh
```

## ⚠️ 주의사항

### `run_target_board_v3.sh`
- 안정적이지만 성능이 제한적
- 모든 환경에서 안정적으로 동작
- 디버깅 정보가 더 자세함

### `run_dual_core_optimized.sh`
- 최고 성능이지만 시스템 리소스를 집중적으로 사용
- 시스템 권한이 필요한 최적화 포함
- 일부 환경에서 호환성 문제 가능

## 🎯 결론

- **테스트/개발**: `run_target_board_v3.sh`
- **배포/운영**: `run_dual_core_optimized.sh`
- **성능 비교**: 두 스크립트 모두 테스트 후 결정 